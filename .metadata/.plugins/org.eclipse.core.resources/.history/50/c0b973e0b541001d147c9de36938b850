/*
 * Author: Vivekananthan Pasupathi
 * pvivekdev@gmail.com
 * For Zoho SoftwareTrainer demo
 */

package sample;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Calculator {

	public static void main(String[] args) {

		Scanner sc = new Scanner(System.in);
		String wishOption = "Y";

		try 
		{

			while (wishOption.equalsIgnoreCase("Y")) {

				helpFunction();
				boolean restartFromBegning =false;

				int operation;
				operation= sc.nextInt();

				if (operation < 0 || operation > 8)
				{
					System.out.println("Invalid Operation" + "Enter Valid menu from 1 to 8");
					helpFunction();
					operation = sc.nextInt();
				}   

				//Why numember1 and number2 are initialized to -1 and not 0, Because default value of integer is 0
				int number1 = -1 ,number2 = -1;

				System.out.println("Enter First Number");

				//To Check if given input is valid number > 0
				number1 = MathHelper.ParseStringToInteger(sc.next());

				while(number1 < 0)
				{
					System.out.println("Invalid Input" + "ReEnter Valid Input Number > 0 or press Y to Restart from begining"
							+ "Or E to exit");
					String input = (sc.next());

					if(input.equalsIgnoreCase("Y"))
					{
						wishOption = "Y";
						restartFromBegning =true;
						break;
					}
					else if(input.equalsIgnoreCase("E"))
					{
						System.exit(0);
					}
					else 
					{
						number1 = MathHelper.ParseStringToInteger(input);
					}

				}

				System.out.println("Enter Second Number");
				number2 =  MathHelper.ParseStringToInteger(sc.next());

				while(number2 < 0)
				{
					System.out.println("Invalid Input" + "ReEnter Valid Input Number > 0 or press Y to Restart from begining"
							+ "Or E to exit");
					String input = (sc.next());

					if(input.equalsIgnoreCase("Y"))
					{
						wishOption = "Y";
						restartFromBegning =true;
						break;
					}
					else if(input.equalsIgnoreCase("E"))
					{
						System.exit(0);
					}
					else 
					{
						number2 = MathHelper.ParseStringToInteger(input);
					}

				}

				if(!restartFromBegning) 
				{
					switch (operation) {
					case 1:
						int additionResult = MathHelper.Add(number1, number2);
						System.out.println(number1 + " + " + number2 + " = " + additionResult);
						break;
					case 2:
						int subtractionResult = MathHelper.Sub(number1, number2);
						System.out.println(number1 + " - " + number2 + " = " + subtractionResult);
						break;
					case 3:
						int multiplicationResult = MathHelper.Multiply(number1, number2);
						System.out.println(number1 + " * " + number2 + " = " + multiplicationResult);
						break;
					case 4:
						int divisionResult =MathHelper.Divison(number1, number2);
						System.out.println(number1 + " / " + number2 + " = " + divisionResult);
						break;
					case 5:
						System.exit(0);
					}

					System.out.println("Wish to continue(Y/N)");
					wishOption = sc.next();

					if(wishOption.equalsIgnoreCase("N"))
						System.exit(0);

				}
			}
		}

		catch(Exception ex)
		{
			System.out.println(String.format("Runtime exception occured", ex.getMessage()));
		}

	}


	static void helpFunction()
	{
		//TODO:- externalize this to config file
		System.out.println("--------Enter one of the below Operation--------------");
		System.out.println("1.Add");
		System.out.println("2.Subtract");
		System.out.println("3.Multiplication");
		System.out.println("4.Division");
		System.out.println("5 To calculate X% of Y");
		System.out.println("6 To Find What Percentage of Y is X");
		System.out.println("7 To % of increase or descrease from X to Y");
		System.out.println("8 Exit");
	}


}
